# Урок 12 - Локальні та глобальні змінні у функціях

## Теоретична частина

У Python змінні можуть мати **локальну** або **глобальну** область видимості:
- **Глобальні змінні** – оголошуються поза межами будь-якої функції та доступні у всій програмі.
- **Локальні змінні** – створюються всередині функції та доступні лише в ній.

### Приклад
```python
x = 10  # глобальна змінна

def my_function():
    y = 5  # локальна змінна
    print("Локальна змінна y:", y)
    print("Глобальна змінна x:", x)

my_function()
# print(y)  # Помилка! y не існує поза функцією
```

## Практичні завдання

### Початковий рівень (3 бали)

1. **Глобальна змінна**: Створіть змінну `name` поза функцією та використайте її всередині функції.
    ```python
    name = "Андрій"
    def greet():
        print("Привіт,", name)
    greet()
    ```
    **Варіація**: змініть значення глобальної змінної перед викликом функції.

2. **Локальна змінна**: Створіть функцію `square()`, яка всередині оголошує локальну змінну `num`, зводить її в квадрат і виводить результат.
    ```python
    def square():
        num = 4
        print(num ** 2)
    square()
    ```
    **Варіація**: замість піднесення до квадрату зробіть добуток `num * 3`.

3. **Конфлікт локальної та глобальної змінної**: Оголосіть глобальну змінну `x`, але всередині функції створіть локальну `x` та виведіть обидві.
    ```python
    x = 7
    def show():
        x = 3
        print("Локальна x:", x)
    show()
    print("Глобальна x:", x)
    ```
    **Варіація**: використати інші числові значення.

---
### Середній рівень (6 балів)

4. **Зміна глобальної змінної всередині функції**: Використайте `global` для зміни значення глобальної змінної `counter` всередині функції.
    ```python
    counter = 0
    def increment():
        global counter
        counter += 1
    increment()
    print(counter)
    ```
    **Варіація**: змінювати значення на `+2`.

5. **Передача змінної у функцію**: Напишіть функцію, яка приймає змінну як аргумент і змінює її.
    ```python
    def modify_value(value):
        value += 5
        print("Змінене значення:", value)
    modify_value(10)
    ```
    **Варіація**: змінювати змінну `value` іншим способом (наприклад, множенням).

6. **Зміна глобальної змінної без `global`**: Чи працює наступний код? Чому?
    ```python
    total = 100
    def change_total():
        total += 10  # Помилка!
    change_total()
    ```
    **Варіація**: змінити код так, щоб він працював правильно.

---
### Достатній рівень (9 балів)

7. **Каскад змінних**: Використайте глобальні та локальні змінні у кількох функціях, щоб дані передавалися між ними.
    ```python
    message = "Привіт!"
    def update_message():
        global message
        message = "Новий текст"
    update_message()
    print(message)
    ```
    **Варіація**: змінити текст змінної на інший.

8. **Функція, що змінює глобальну змінну кілька разів**: Напишіть функцію, яка змінює глобальну змінну на різних етапах виконання.
    ```python
    score = 0
    def game():
        global score
        score += 10
        score *= 2
    game()
    print(score)
    ```
    **Варіація**: додати більше змін.

9. **Глибока вкладеність**: Створіть функцію всередині функції, яка використовує змінну з вищого рівня.
    ```python
    def outer():
        x = 5
        def inner():
            print(x)
        inner()
    outer()
    ```
    **Варіація**: змінити значення `x`.

---
### Високий рівень (12 балів)

10. **Лічильник викликів**: Напишіть функцію, яка підраховує кількість своїх викликів за допомогою глобальної змінної.
    ```python
    count = 0
    def call_counter():
        global count
        count += 1
        print("Функція викликана", count, "разів")
    call_counter()
    call_counter()
    ```
    **Варіація**: додати ще один рівень вкладеності.

11. **Рекурсивна зміна глобальної змінної**: Використайте рекурсію для зміни глобальної змінної.
    ```python
    total = 1
    def multiply(n):
        global total
        if n == 0:
            return
        total *= 2
        multiply(n - 1)
    multiply(3)
    print(total)
    ```
    **Варіація**: змінити операцію множення на додавання.

12. **Функція з внутрішньою змінною, що запам’ятовує стан**: Створіть функцію, яка використовує `nonlocal` для зміни змінної в замиканні.
    ```python
    def counter():
        count = 0
        def increment():
            nonlocal count
            count += 1
            print(count)
        return increment
    my_counter = counter()
    my_counter()
    my_counter()
    ```
    **Варіація**: додати додаткову внутрішню функцію.

---
## Висновки
- Глобальні змінні доступні в усій програмі.
- Локальні змінні працюють лише всередині функції.
- Для зміни глобальної змінної у функції потрібно використати `global`.
- `nonlocal` змінює змінну у вкладеній функції.
- Вкладені функції можуть отримувати доступ до змінних із зовнішньої функції.

Продовжуйте досліджувати Python і створювати власні програми!
